# 2026-01-17

# 目录介绍

get-my-ai-emials 是我之前写的一个程序，用于获取我邮箱中的 AI 相关邮件。

publish-article-to-wechat 是我准备用来将上面程序获取到的内容发布到微信公众号的草稿箱内的程序。


## 需求

在 publish-aritcle-to-wechat 目录内实现下面的需求

我想创建一个工具，能够拉取我的 obsidian 目录内的某个笔记，并整理为适合发布到微信公众号的格式，然后发布到微信公众号的草稿箱内，我会手动校准并发布到微信公众号文章。

## 功能

1. 每日早上6点，检查我的 obsidian 目录下的 /Users/xuye/Documents/NoteBook/ObsidianVault/News/AI-Updates 目录下的所有笔记。
2. 找到名字中包含当日日期的笔记，如果有多篇，则选取第一篇。如果没有找到，则不处理。
3. 将笔记内容整理为适合发布到微信公众号的格式。
4. 将整理好的内容发布到微信公众号的草稿箱内。
5. 草稿内容保存一份在本地目录 ./draft 中，命名为 draft_YYYY-MM-DD.html
6. 处理过程存入日志。

## 格式要求

1. 封面图：使用笔记中的第一张图片作为封面图。
2. 标题：使用笔记中的标题，并使用微信公众号的标题格式。
3. 内容：使用微信公众号的内容格式。
4. 图片：使用微信公众号的图片格式。
5. 链接：使用微信公众号的链接格式。
6. 格式：使用微信公众号的格式。

## 公众号信息

1. 公众号名称：硅基Daily
2. 公众号介绍： 你的全球 AI 科技内参，关注我们，与未来同行。
2. 公众号 ID：gh_1357459e3bde
3. 公众号 AppID：wx7bf1371d0d20b3a1
4. 公众号 AppSecret：e099309eb3dab6334471725a64f54c3e

## 要求或者原则

1. 将需要配置的参数，都放在 .env 文件中，不要写在代码里。
2. 我是一名前端开发工程师，技术栈如果可以使用 nodejs 实现，如果不方便就是用python


# 问题

1. 微信公众号要求标题中不能存在特殊符号，检查如果邮件标题中存在特殊符号，如果存在 直接删除


# 2026-01-22

## 任务

现在是我手动执行 npm run start 将笔记内容发布到微信公众号的草稿箱，现在我想要每日7点自动执行这个任务。执行日志需要保存到日志文件中。定时任务使用系统定时任务。

## 原则

1. 不需要测试结果，只改动代码，我会手动测试，给我预留手动测试的入口。
2. 定时任务执行时间给我做成可配置的

